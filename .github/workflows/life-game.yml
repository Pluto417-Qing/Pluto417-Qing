name: GitHub Profile Life Game

on:
  schedule:
    - cron: "0 0 * * *" # 每天午夜运行一次
  workflow_dispatch: # 允许手动触发运行

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Generate Life Game Animation
        uses: yoshi389111/github-profile-life-game@v0
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          # 这里的参数可以自定义颜色和样式
          bg_color: "#0d1117"     # 背景色（深色）
          fg_color: "#A177F7"     # 活细胞颜色（匹配你的紫色调）
          dot_color: "#161b22"    # 死细胞格子颜色
          # 保存的文件名
          out_path: profile-life-game.gif

      - name: Commit and Push
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add profile-life-game.gif
          git commit -m "Update Life Game Animation" || exit 0
          git push
