name: Generate Cool Animations
on:
  schedule: [{cron: "0 0 * * *"}]
  workflow_dispatch:
  push: {branches: ["main", "master"]}

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          filename: github-skyline.svg
          base: ""
          
          # 1. 启用旋转 3D 城市
          plugin_skyline: yes
          plugin_skyline_year: 0 # 0 表示当前年份
          plugin_skyline_frames: 120 # 调高帧数，旋转更丝滑
          
          # 2. 启用星空背景（作为修饰）
          plugin_starfield: yes
          
          # 全局动画配置
          config_animations: yes
          config_timezone: Asia/Shanghai
